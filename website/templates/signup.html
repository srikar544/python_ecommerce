<!DOCTYPE html>
<!--
  Declares the document type.
  Tells the browser this is an HTML5 document.
-->
<html lang="en">
<head>

    <!-- Character encoding (supports all languages & symbols) -->
    <meta charset="UTF-8">

    <!-- Makes the page responsive on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Title shown in browser tab -->
    <title>Create Account</title>

    <!-- ==================================================
         GLOBAL STYLESHEET
         ==================================================
         Contains common styles shared across the site
         (navbar, fonts, layout, etc.)
    -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">

    <!-- ==================================================
         AUTH PAGE STYLESHEET
         ==================================================
         Specific styles for login & signup pages
    -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>

<body>

    <!-- ==================================================
         MAIN AUTH CONTAINER
         ==================================================
         Centers the signup form and controls layout
    -->
    <div class="auth-container">

        <!-- ==================================================
             FLASH MESSAGES
             ==================================================
             Displays temporary messages sent from Flask
             Examples:
             - "Invalid credentials"
             - "Account created successfully"
        -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <div class="flash-messages">
              {% for category, message in messages %}
                <!--
                  category is used as a CSS class
                  Example: success, error, warning, info
                -->
                <div class="flash {{ category }}">
                    {{ message }}
                </div>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <!-- Page heading -->
        <h1>Create Account</h1>

        <!-- ==================================================
             SIGNUP FORM
             ==================================================
             - method="POST" sends data securely
             - action points to auth.sign_up route
             - autocomplete="off" avoids browser autofill issues
        -->
        <form method="POST"
              action="{{ url_for('auth.sign_up') }}"
              autocomplete="off">

            <!--
              Fake hidden field to trick browser
              Prevents Chrome autofill from auto-filling password/email
            -->
            <input type="text"
                   name="fakeusernameremembered"
                   style="display:none">

            <!-- First name input -->
            <input type="text"
                   name="firstname"
                   placeholder="First Name"
                   required
                   autocomplete="new-firstname"><br>

            <!-- Email input -->
            <input type="email"
                   name="email"
                   placeholder="Email"
                   required
                   autocomplete="new-email"><br>

            <!-- Password input -->
            <input type="password"
                   name="password"
                   placeholder="Password"
                   required
                   autocomplete="new-password"><br>

            <!-- Submit button -->
            <button type="submit">Sign Up</button>
        </form>

        <!-- Redirect link for existing users -->
        <p class="redirect-text">
            Already have an account?
            <a href="{{ url_for('auth.login') }}">Login here</a>
        </p>

    </div>
</body>
</html>
